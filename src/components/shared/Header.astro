---
import type { Entry } from "contentful";
import type { ItemFields, Link } from "../../models/content.model";
import { Image } from "@astrojs/image/components";
import logo from "../../assets/images/logo.png";
import cv_resume_en from "../../assets/resume_en.pdf";
import cv_resume_es from "../../assets/resume_es.pdf";

interface Props {
  lang: string;
  content: Entry<ItemFields>[];
}

const { lang, content } = Astro.props;
const data = Object.assign({}, ...content);
---

<header class="header">
  <!-- logo -->
  <div class="logo">
    <a href="/cv-sylvester-josue-rojas/">
      <Image
        src={logo}
        width={36}
        height={36}
        class="logo-img"
        alt="Logo Portfolio"
        format="png"
      />
      <span class="logo-lnk">
        {data.fields.headTitle.split(" ", 2)[0]}
        <br />{data.fields.headTitle.split(" ", 2)[1]}
      </span>
    </a>
  </div>

  <!-- menu button -->
  <a href="/" class="menu-btn"><span></span></a>

  <!-- download cv button -->

  {
    lang === "en-US" ? (
      <a href={cv_resume_en} download class="btn download-cv-btn">
        <span class="animated-button">
          <span>{data.fields.btnDownload}</span>
        </span>
        <i class="icon fas fa-download" />
      </a>
    ) : (
      <a href={cv_resume_es} download class="btn download-cv-btn">
        <span class="animated-button">
          <span>{data.fields.btnDownload}</span>
        </span>
        <i class="icon fas fa-download" />
      </a>
    )
  }

  <!-- header sidebar -->
  <div class="header-sidebar">
    <!-- top menu -->
    <div class="top-menu">
      <div class="top-menu-nav">
        <div class="menu-topmenu-container">
          <ul class="menu">
            {
              data.fields.link.map((item: Link) => (
                <li
                  class:list={[
                    "menu-item",
                    item.name === "Home" ? "current-menu-item" : "",
                  ]}
                >
                  <a href={item.link}>
                    <span class="animated-button">
                      <span>{item.name}</span>
                    </span>
                  </a>
                </li>
              ))
            }
            <li class="menu-item">
              {
                lang === "en-US" ? (
                  <a href="/cv-sylvester-josue-rojas/es">
                    <span class="animated-button">
                      <span>ES</span>
                    </span>
                  </a>
                ) : (
                  <a href="/cv-sylvester-josue-rojas/">
                    <span class="animated-button">
                      <span>EN</span>
                    </span>
                  </a>
                )
              }
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>
